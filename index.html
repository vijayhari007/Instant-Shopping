<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Instant Shopping</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- Loader -->
<div id="loader">
  <img src="logo.png" id="trolley" alt="Loading..." />
  <div id="loading-text">
    <h2>Welcome to Instant Shopping</h2>
    <div id="percentage">0%</div>
  </div>
</div>

<!-- Main Content -->
<div id="main-content" class="hidden">

  <header>
    <h1>
      <img src="logo.png" class="logo" alt="logo" /> Instant Shopping
    </h1>
    <input type="text" id="search" placeholder="Search products">
    <select id="category-filter">
      <option value="All">All Categories</option>
      <option value="Kurtas">Kurtas</option>
      <option value="Gowns">Gowns</option>
      <option value="Tops & Skirts">Tops & Skirts</option>
    </select>
    <button onclick="showCart()">🛖 CART (<span id="cart-count">0</span>)</button>
    <button onclick="location.href='login.html'">👨‍💼 ADMIN</button>
  </header>

  <!-- Banner -->
  <div class="banner">
    <div class="slides">
      <div class="slide"><img src="slide1.jpg" alt="Sale 1"><div class="caption">🔥 Big Festive Sale - Up to 50% Off!</div></div>
      <div class="slide"><img src="slide2.jpg" alt="Sale 2"><div class="caption">✨ New Arrivals Just Landed!</div></div>
      <div class="slide"><img src="slide3.jpg" alt="Sale 3"><div class="caption">🛒 Shop Smart with Instant Shopping!</div></div>
    </div>
  </div>

  <main id="product-list"></main>

  <!-- Cart Modal -->
  <div id="cart-modal" class="modal hidden">
    <div class="modal-content">
      <span class="close" onclick="closeCart()">&times;</span>
      <h2>Your Cart</h2>
      <ul id="cart-items"></ul>
      <div id="cart-total">Total: ₹<span id="total-price">0.00</span></div>
      <button onclick="openCheckout()">Checkout</button>
    </div>
  </div>

  <!-- Checkout Modal -->
  <div id="checkout-modal" class="modal hidden">
    <div class="modal-content">
      <span class="close" onclick="closeCheckout()">&times;</span>
      <h2>Order Details</h2>
      <form id="order-form">
        <input type="text" id="name" placeholder="Name" required>
        <input type="text" id="phone" placeholder="Phone Number" required>
        <input type="text" id="door" placeholder="Door No." required>
        <input type="text" id="street" placeholder="Street Name" required>
        <input type="text" id="pincode" placeholder="Pincode" required onblur="autoFillCityState()">
        <input type="text" id="city" placeholder="City" required>
        <input type="text" id="state" placeholder="State" required>
        <button type="submit">Place Order</button>
      </form>
    </div>
  </div>

  <!-- Success Modal -->
  <div id="success-modal" class="modal hidden">
    <div class="modal-content">
      <span class="close" onclick="closeSuccess()">&times;</span>
      <h2>✅ Order Placed Successfully!</h2>
      <p id="success-msg"></p>
    </div>
  </div>

</div> <!-- End main-content -->

<!-- Scripts -->
<script src="JAVASCRIPT.JS"></script>
<script>
  // Fancy Loader Logic
  window.addEventListener("load", () => {
    const loader = document.getElementById("loader");
    const percentageText = document.getElementById("percentage");
    const trolley = document.getElementById("trolley");
    let percent = 0;

    trolley.classList.add("move-trolley");

    const loadingInterval = setInterval(() => {
      percent++;
      percentageText.textContent = percent + "%";
      if (percent >= 100) {
        clearInterval(loadingInterval);
        loader.classList.add("fade-out");
        setTimeout(() => {
          document.body.classList.add("loaded");
          loader.style.display = "none";
          document.getElementById("main-content").classList.remove("hidden");
        }, 1000);
      }
    }, 30);
  });

  // Banner Slideshow
  let slideIndex = 0;
  function rotateSlides() {
    const slides = document.querySelectorAll(".slide");
    slides.forEach(slide => slide.style.display = "none");
    slideIndex = (slideIndex + 1) % slides.length;
    slides[slideIndex].style.display = "block";
  }
  setInterval(rotateSlides, 3000);
</script>
</body>
</html>
